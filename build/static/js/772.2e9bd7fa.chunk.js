"use strict";(self.webpackChunkmarketplace_app_boilerplate=self.webpackChunkmarketplace_app_boilerplate||[]).push([[772],{772:(e,o,t)=>{t.r(o),t.d(o,{default:()=>D});var n=t(2791),l=t(6124);const i={loadDAMScript:e=>new Promise((o=>{const t=document.getElementById("DAMScript");if(t)t.onload=function(){o(!0)};else{var n;const t=document.createElement("script"),l=null===(n=document.getElementsByTagName("body"))||void 0===n?void 0:n[0];t.src=e,t.id="DAMScript",t.type="text/javascript",null!==t&&void 0!==t&&t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,o(!0))}:t.onload=function(){o(!0)},l.appendChild(t)}}))},a=i;var d=t(184);const r=function(){return(0,d.jsx)("div",{className:"config-custom-component",children:"Custom Component - This is a custom component and can be modified using root_config"})},s={configureConfigScreen:()=>({textField:{type:"textInputFields",labelText:"DAM Text Input",helpText:"DAM Text Input Helptext",placeholderText:"DAM Text Input Placeholder",instructionText:"DAM Text Input Instruction Text",inputFieldType:"password",saveInConfig:!1,saveInServerConfig:!0},selectField:{type:"selectInputFields",labelText:"DAM Select Input",helpText:"DAM Select Input Helptext",placeholderText:"DAM Select Input Placeholder",instructionText:"DAM Select Input Instruction Text",options:[{label:"option 1",value:"option1"},{label:"option 2",value:"option2"},{label:"option 3",value:"option3"},{label:"option 4",value:"option4"},{label:"option 5",value:"option5"}],defaultSelectedOption:"option5",saveInConfig:!0,saveInServerConfig:!1},radioField:{type:"radioInputFields",labelText:"DAM Radio Input",helpText:"DAM Radio Input Helptext",instructionText:"DAM Radio Input Instruction Text",options:[{label:"Single Select",value:"SingleSelect"},{label:"Multi Select",value:"MultiSelect"}],defaultSelectedOption:"MultiSelect",saveInConfig:!0,saveInServerConfig:!1}}),customConfigComponent:(e,o,t)=>(0,d.jsx)(r,{}),customWholeJson:()=>({customJsonOptions:["option 1","option 2","option 3","option 4","option 5","option 6","option 7","option 8","option 9","option 10"],defaultFeilds:["option 1","option 2","option 3"]})};const c={DAM_APP_NAME:"Filerobot",ASSET_UNIQUE_ID:"id",SELECTOR_PAGE_LOGO:t.p+"static/media/logo.4bc872cb5922dbff5df01ff573cd6cf5.svg",CONFIG_FIELDS:[],IS_DAM_SCRIPT:!1,DAM_SCRIPT_URL:"",DIRECT_SELECTOR_PAGE:"novalue"},u=(e,o,t)=>{const n={};return null===e||void 0===e||e.forEach((e=>{var l,i;e in o&&""!==(null===o||void 0===o?void 0:o[e])&&(t&&e in t&&Array.isArray(t[e])&&null!==(l=t[e])&&void 0!==l&&l.length?null!==(i=t[e])&&void 0!==i&&i.includes(o[e])&&(n[e]=o[e]):n[e]=o[e])})),n},v=(e,o)=>e<o?-1:e>o?1:0,p=(e,o)=>{var t,n,l,i;return(null===(t=[...e])||void 0===t||null===(n=t.sort(v))||void 0===n?void 0:n.join(","))===(null===(l=[...o])||void 0===l||null===(i=l.sort(v))||void 0===i?void 0:i.join(","))},f=e=>{var o;const{customConfig:t,currentLocale:n,returnConfig:l,mapArr:i,valueChecks:a,pairs:d}=e;let r={...l};if("locale"in t&&n in(null!==(o=null===t||void 0===t?void 0:t.locale)&&void 0!==o?o:{})){var s;const e=null===t||void 0===t||null===(s=t.locale)||void 0===s?void 0:s[n];if("object"===typeof e&&!Array.isArray(e)&&null!==e&&(r={...r,...u(i,e,a)},d)){const o={...u(d,e,a)};p(d,Object.keys(o))&&(r={...r,...o})}}return r},m={getSelectorConfig:e=>{var o;const{keyArr:t,appConfig:n,customConfig:l,currentLocale:i,pairs:a,valueChecks:d}=e;if(null===(o=Object.keys(l))||void 0===o||!o.length)return n;let r={...n};if(null!==a&&void 0!==a&&a.length){const e=null===t||void 0===t?void 0:t.filter((e=>!(null!==a&&void 0!==a&&a.includes(e))));r={...r,...u(e,l,d)};const o={...u(a,l,d)};p(a,Object.keys(o))&&(r={...r,...o}),r={...r,...f({customConfig:l,currentLocale:i,returnConfig:r,mapArr:e,valueChecks:d,pairs:a})}}else r={...r,...u(t,l,d)},r={...r,...f({customConfig:l,currentLocale:i,returnConfig:r,mapArr:t,valueChecks:d})};return r},getAssetType:e=>{var o;e=null===(o=e)||void 0===o?void 0:o.toLowerCase();let t="document";const n=["mp3","m4a","flac","wav","wma","aac"],l=["mp4","mov","wmv","avi","avchd","flv","f4v","swf","ogg"],i=["jpeg","jpg","png","gif","bmp","apng","avif","jfif","pjpeg","pjp","svg","webp","ico","cur","tif","tiff"],a=["xlsx","xlsm","xlsb","xltx","xltm","xls","xlt","xml","xlam","xla","xlw","xlr"];return null!==l&&void 0!==l&&l.includes(e)?t="video":null!==n&&void 0!==n&&n.includes(e)?t="audio":null!==i&&void 0!==i&&i.includes(e)?t="image":null!==a&&void 0!==a&&a.includes(e)?t="excel":"pdf"===e?t="pdf":"zip"===e?t="zip":"json"===e&&(t="json"),t}},g={filterAssetData:e=>null===e||void 0===e?void 0:e.map((e=>({id:"",type:"",name:"",width:"",height:"",size:"",thumbnailUrl:"",previewUrl:"",platformUrl:""}))),getSelectorWindowUrl:(e,o)=>"",handleConfigtoSelectorPage:(e,o,t)=>m.getSelectorConfig({keyArr:null===c||void 0===c?void 0:c.CONFIG_FIELDS,appConfig:e,customConfig:o,currentLocale:t}),handleSelectorPageData:e=>[],handleSelectorWindow:(e,o,t)=>{}},S={openComptactView:(e,o,t,n,l,i)=>{let{containerRef:a,containerClass:d,containerId:r}=l},customSelectorComponent:(e,o,t,n,l)=>(0,d.jsx)(r,{})},C={damEnv:c,configureConfigScreen:null===s||void 0===s?void 0:s.configureConfigScreen,customConfigComponent:null===s||void 0===s?void 0:s.customConfigComponent,customWholeJson:null===s||void 0===s?void 0:s.customWholeJson,filterAssetData:null===g||void 0===g?void 0:g.filterAssetData,getSelectorWindowUrl:null===g||void 0===g?void 0:g.getSelectorWindowUrl,handleSelectorPageData:null===g||void 0===g?void 0:g.handleSelectorPageData,handleSelectorWindow:null===g||void 0===g?void 0:g.handleSelectorWindow,openComptactView:null===S||void 0===S?void 0:S.openComptactView,customSelectorComponent:null===S||void 0===S?void 0:S.customSelectorComponent,handleConfigtoSelectorPage:null===g||void 0===g?void 0:g.handleConfigtoSelectorPage};var h=t(4781),x=t(4987),w=t(6756);t(8215),t(261);let I=!1,A="";const D=function(){var e;const o=(0,n.useRef)(null),[t,i]=n.useState(!1),[r,s]=(0,n.useState)(),[c,u]=(0,n.useState)(""),[v,p]=((0,l.M)(),(0,n.useState)([])),f=(0,n.useRef)(null),m=e=>{let{isErr:o=!1,errorText:t="errorText"}=e;i(o),t&&u(t)},g=e=>{var o;window.opener.postMessage({message:"add",selectedAssets:e,type:null===C||void 0===C||null===(o=C.damEnv)||void 0===o?void 0:o.DAM_APP_NAME},A),window.close()},S=()=>window.close(),D=async(e,o)=>{var t,n;if(null!==C&&void 0!==C&&null!==(t=C.damEnv)&&void 0!==t&&t.IS_DAM_SCRIPT&&(I=await a.loadDAMScript(null===C||void 0===C||null===(n=C.damEnv)||void 0===n?void 0:n.DAM_SCRIPT_URL),!0===I)){var l;if((e=>{var o,t;const n=null===C||void 0===C||null===(o=C.damEnv)||void 0===o||null===(t=o.CONFIG_FIELDS)||void 0===t?void 0:t.length;for(let a=0;a<n;a+=1){var l,i;if(!e[null===C||void 0===C||null===(l=C.damEnv)||void 0===l||null===(i=l.CONFIG_FIELDS)||void 0===i?void 0:i[a]])return!0}return!1})(e))return void i(!0);i(!1),null===C||void 0===C||null===(l=C.openComptactView)||void 0===l||l.call(C,e,o,g,S,{containerRef:f,containerClass:"selector_container",containerId:"selector_container"},m)}},b=e=>{const{data:t}=e;var n;if(null!==t&&void 0!==t&&t.config&&("init"===(null===t||void 0===t?void 0:t.message)&&(null===t||void 0===t?void 0:t.type)===(null===C||void 0===C||null===(n=C.damEnv)||void 0===n?void 0:n.DAM_APP_NAME))){var l,i;const e=(null===t||void 0===t||null===(l=t.config)||void 0===l?void 0:l.container)||"",n=(null===t||void 0===t||null===(i=t.config)||void 0===i?void 0:i.security_template_id)||"";o.current=(0,x.ZP)({securityTemplateId:n,container:e,dev:!1}).use(h.Z,{config:{limit:50,tagging:{language:"en",confidence:60,limit:10}},target:"#filerobot-widget",inline:!0,width:"100%",height:"100%",dismissUrlPathQueryUpdate:!0,showDetailsView:!1,showFolderTree:!0,floaty:!1,disableDownloadButton:!0,hideDownloadButtonIcon:!0,preventDownloadDefaultBehavior:!0,resetAfterClose:!0,locale:{strings:{mutualizedExportButtonLabel:"Insert",mutualizedDownloadButton:"Insert"}}}).use(w.Z).on("export",(function(e,o,t,n){g(e)})),s(null===t||void 0===t?void 0:t.config),D(null===t||void 0===t?void 0:t.config,null===t||void 0===t?void 0:t.selectedIds),p(null===t||void 0===t?void 0:t.selectedIds)}};return(0,n.useEffect)((()=>{var e,o,t,n,l;const{opener:i}=window;if(i){var a,d,r,s;let c;switch(null===(a=window.location.href)||void 0===a||null===(d=a.split("?"))||void 0===d||null===(r=d[1])||void 0===r||null===(s=r.split("="))||void 0===s?void 0:s[1]){case"NA":c=null!==(e="https://rte-extension.contentstack.com")?e:"";break;case"EU":c=null!==(o="https://eu-rte-extension.contentstack.com")?o:"";break;case"AZURE_NA":c=null!==(t="https://azure-na-rte-extension.contentstack.com")?t:"";break;case"CUSTOM-FIELD":c=null!==(n="http://localhost:3000")?n:"";break;default:c=null!==(l="https://azure-eu-rte-extension.contentstack.com")?l:""}A=c,window.addEventListener("message",b,!1),i.postMessage({message:"openedReady"},c),window.addEventListener("beforeunload",(()=>{i.postMessage({message:"close"},c)}))}}),[]),(0,d.jsx)("div",{className:"selector-page-wrapper","data-testid":"selector-wrapper",children:(0,d.jsx)("div",{className:"selector_container mt-30 mr-20 ml-20 mb-20",id:"selector_container","data-testid":"selector-container",ref:f,children:t?(0,d.jsx)("div",{className:"info-wrapper","data-testid":"warning-component",children:"isErrorPresent"}):(0,d.jsx)(d.Fragment,{children:null!==C&&void 0!==C&&null!==(e=C.damEnv)&&void 0!==e&&e.IS_DAM_SCRIPT?(0,d.jsx)(d.Fragment,{}):(0,d.jsx)("div",{id:"filerobot-widget"})})})})}}}]);
//# sourceMappingURL=772.2e9bd7fa.chunk.js.map